{"ast":null,"code":"import _slicedToArray from\"/home/ubuntu/app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import axios from\"axios\";import utils from\"../utilities.js\";import{please}from\"../please.js\";import\"./DataList.css\";import ListItem from\"./ListItem\";import UnitToggle from\"../UnitToggle\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var DataList=function DataList(_ref){var data=_ref.data,isLbs=_ref.isLbs,user=_ref.user,fetchData=_ref.fetchData,refresh=_ref.refresh,pets=_ref.pets,handleFilter=_ref.handleFilter,changeUnit=_ref.changeUnit;var handleDel=function handleDel(){// let id = e.target.closest(\".trash\").id;\nconsole.log(delEntry._id);axios.delete(\"\".concat(utils.API,\"/entries/?entry=\").concat(delEntry._id)).then(function(){return please.fetchDataByUser(user);}).then(function(){return refresh(function(val){return!val;});}).catch(function(err){return console.log(err);});};//obj of selected list item for deletion (used in modal)\nvar _useState=useState({id:undefined,name:undefined,created_ad:undefined}),_useState2=_slicedToArray(_useState,2),delEntry=_useState2[0],setDelEntry=_useState2[1];return/*#__PURE__*/_jsxs(\"div\",{className:\"data_list_container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"list_filter_container\",children:[/*#__PURE__*/_jsx(UnitToggle,{isLbs:isLbs,changeUnit:changeUnit}),/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{for:\"pet_select\",className:\"filter_label\",children:\"Filter By Pet\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"pet_select\",onChange:function onChange(e){return handleFilter(e);},id:\"list_filter\",className:\"filter_select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:\"--none--\"}),pets[0]&&/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:pets[0]}),pets[1]&&/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:pets[1]}),pets[2]&&/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:pets[2]}),pets[3]&&/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:pets[3]}),pets[4]&&/*#__PURE__*/_jsx(\"option\",{value:\"5\",children:pets[4]})]})]})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Past Weigh-Ins\"}),data.length>0&&data.length?data.map(function(entry,i){return/*#__PURE__*/_jsx(ListItem,{data:entry,isLbs:isLbs,user:user,fetchData:fetchData,refresh:refresh,setDelEntry:setDelEntry,colorIndex:pets.indexOf(entry.name)},i);}):null,/*#__PURE__*/_jsx(\"div\",{class:\"modal fade\",id:\"deleteEntryModal\",tabindex:\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{class:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"modal-content text-dark\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"modal-header\",children:[/*#__PURE__*/_jsxs(\"h1\",{class:\"modal-title fs-5 \",id:\"exampleModalLabel\",children:[\"Delete this entry for \",\"\".concat(delEntry.name),\"?\"]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"modal-body text-center fs-5 fw-light\",children:[\"\\n            \".concat(utils.getFormattedDate(delEntry.created_at)),/*#__PURE__*/_jsx(\"br\",{}),\"\".concat(delEntry.weight,\" \").concat(delEntry.unit=\"g\"?\"grams\":\"lbs\")]}),/*#__PURE__*/_jsx(\"div\",{class:\"modal-footer\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-danger\",\"data-bs-dismiss\":\"modal\",onClick:function onClick(){return handleDel();},children:\"Delete\"})})]})})})]});};export default DataList;/*\n\n      <div className=\"list_filter_container\">\n        <label for=\"pet_select\">Filter By Pet</label>\n\n        <select\n          name=\"pet_select\"\n          onChange={(e) => handleFilter(e)}\n          id=\"list_filter\"\n          className=\"filter_select\"\n        >\n          <option value=\"\">--select--</option>\n          {pets[0] && <option value=\"1\">{pets[0]}</option>}\n          {pets[1] && <option value=\"2\">{pets[1]}</option>}\n          {pets[2] && <option value=\"3\">{pets[2]}</option>}\n          {pets[3] && <option value=\"4\">{pets[3]}</option>}\n          {pets[4] && <option value=\"5\">{pets[4]}</option>}\n        </select>\n      </div>\n\n*/","map":{"version":3,"names":["React","useState","axios","utils","please","ListItem","UnitToggle","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DataList","_ref","data","isLbs","user","fetchData","refresh","pets","handleFilter","changeUnit","handleDel","console","log","delEntry","_id","delete","concat","API","then","fetchDataByUser","val","catch","err","_useState","id","undefined","name","created_ad","_useState2","_slicedToArray","setDelEntry","className","children","for","onChange","e","value","length","map","entry","i","colorIndex","indexOf","class","tabindex","type","getFormattedDate","created_at","weight","unit","onClick"],"sources":["/home/ubuntu/app/client/src/DataList/index.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport utils from \"../utilities.js\";\nimport { please } from \"../please.js\";\nimport \"./DataList.css\";\nimport ListItem from \"./ListItem\";\nimport UnitToggle from \"../UnitToggle\";\n\nconst DataList = ({\n  data,\n  isLbs,\n  user,\n  fetchData,\n  refresh,\n  pets,\n  handleFilter,\n  changeUnit,\n}) => {\n  const handleDel = () => {\n    // let id = e.target.closest(\".trash\").id;\n    console.log(delEntry._id);\n\n    axios\n      .delete(`${utils.API}/entries/?entry=${delEntry._id}`)\n      .then(() => please.fetchDataByUser(user))\n      .then(() => refresh((val) => !val))\n      .catch((err) => console.log(err));\n  };\n\n  //obj of selected list item for deletion (used in modal)\n  const [delEntry, setDelEntry] = useState({\n    id: undefined,\n    name: undefined,\n    created_ad: undefined,\n  });\n\n  return (\n    <div className=\"data_list_container\">\n      <div className=\"list_filter_container\">\n        <UnitToggle isLbs={isLbs} changeUnit={changeUnit} />\n\n        <>\n          <label for=\"pet_select\" className=\"filter_label\">\n            Filter By Pet\n          </label>\n          <select\n            name=\"pet_select\"\n            onChange={(e) => handleFilter(e)}\n            id=\"list_filter\"\n            className=\"filter_select\"\n          >\n            <option value=\"0\">--none--</option>\n            {pets[0] && <option value=\"1\">{pets[0]}</option>}\n            {pets[1] && <option value=\"2\">{pets[1]}</option>}\n            {pets[2] && <option value=\"3\">{pets[2]}</option>}\n            {pets[3] && <option value=\"4\">{pets[3]}</option>}\n            {pets[4] && <option value=\"5\">{pets[4]}</option>}\n          </select>\n        </>\n      </div>\n\n      <h2>Past Weigh-Ins</h2>\n      {data.length > 0 && data.length\n        ? data.map((entry, i) => {\n            return (\n              <ListItem\n                key={i}\n                data={entry}\n                isLbs={isLbs}\n                user={user}\n                fetchData={fetchData}\n                refresh={refresh}\n                setDelEntry={setDelEntry}\n                colorIndex={pets.indexOf(entry.name)}\n              />\n            );\n          })\n        : null}\n\n      {/* modal window to delete entry */}\n\n      <div\n        class=\"modal fade\"\n        id=\"deleteEntryModal\"\n        tabindex=\"-1\"\n        aria-labelledby=\"exampleModalLabel\"\n        aria-hidden=\"true\"\n      >\n        <div class=\"modal-dialog\">\n          <div class=\"modal-content text-dark\">\n            <div class=\"modal-header\">\n              <h1 class=\"modal-title fs-5 \" id=\"exampleModalLabel\">\n                Delete this entry for {`${delEntry.name}`}?\n              </h1>\n              <button\n                type=\"button\"\n                class=\"btn-close\"\n                data-bs-dismiss=\"modal\"\n                aria-label=\"Close\"\n              ></button>\n            </div>\n            <div class=\"modal-body text-center fs-5 fw-light\">\n              {`\n            ${utils.getFormattedDate(delEntry.created_at)}`}\n              <br></br>\n              {`${delEntry.weight} ${(delEntry.unit = \"g\" ? \"grams\" : \"lbs\")}`}\n            </div>\n            <div class=\"modal-footer\">\n              <button\n                type=\"button\"\n                class=\"btn btn-danger\"\n                data-bs-dismiss=\"modal\"\n                onClick={() => handleDel()}\n              >\n                Delete\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DataList;\n\n/*\n\n      <div className=\"list_filter_container\">\n        <label for=\"pet_select\">Filter By Pet</label>\n\n        <select\n          name=\"pet_select\"\n          onChange={(e) => handleFilter(e)}\n          id=\"list_filter\"\n          className=\"filter_select\"\n        >\n          <option value=\"\">--select--</option>\n          {pets[0] && <option value=\"1\">{pets[0]}</option>}\n          {pets[1] && <option value=\"2\">{pets[1]}</option>}\n          {pets[2] && <option value=\"3\">{pets[2]}</option>}\n          {pets[3] && <option value=\"4\">{pets[3]}</option>}\n          {pets[4] && <option value=\"5\">{pets[4]}</option>}\n        </select>\n      </div>\n\n*/\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}